(this["webpackJsonpworkshop-visualization"]=this["webpackJsonpworkshop-visualization"]||[]).push([[0],{21:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(2),o=n.n(r),u=n(5),c=n(44),i=new c.a("workshop-mongo-qqunb");function s(){var t,e=null===(t=i.currentUser)||void 0===t?void 0:t.mongoClient("mongodb-atlas");if(!e)throw Error("Database connection error! Unable to create MongoDB Client.");return e}function a(){return(a=Object(u.a)(o.a.mark((function t(e,n){var r,u,c,i=arguments;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:10,u=s(),c=u.db(e).collection(n),t.abrupt("return",c.find({},{limit:r}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var l={login:function(){var t=c.b.apiKey("A80ekR6X3jZ4vubEuT9oHwVqqBLWRgPCOxQNC4eS63hVG1d31R7wi99wUxNiz5nZ");return i.logIn(t,!1)},getItemById:function(t,e,n){return s().db(t).collection(e).findOne({_id:n})},getItems:function(t,e){return a.apply(this,arguments)},getItemByEventId:function(t,e,n){return s().db(t).collection(e).findOne({event_id:n})}}},32:function(t,e,n){"use strict";function r(t){return"/workshop-visualization"+t}n.d(e,"a",(function(){return r}))},45:function(t,e,n){t.exports={loading:"style_loading__1qrKv",fullHeight:"style_fullHeight__1rlAE"}},47:function(t,e,n){t.exports={main:"style_main__22q8l",section:"style_section__1bgjR"}},48:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a}));var r=n(15),o=n(28),u=n(49),c=n(51),i=Object(r.a)({reducer:{dashboard:u.a.reducer,events:c.a.reducer}}),s=function(){return Object(o.b)()},a=o.c},49:function(t,e,n){"use strict";n.d(e,"b",(function(){return x})),n.d(e,"a",(function(){return _})),n.d(e,"i",(function(){return k})),n.d(e,"g",(function(){return C})),n.d(e,"e",(function(){return w})),n.d(e,"l",(function(){return S})),n.d(e,"j",(function(){return B})),n.d(e,"f",(function(){return T})),n.d(e,"h",(function(){return A})),n.d(e,"k",(function(){return z})),n.d(e,"c",(function(){return E})),n.d(e,"d",(function(){return I}));var r=n(15),o=n(2),u=n.n(o),c=n(5),i=function(t){return{studentsCount:t.key_statistic.students_count,projectsCount:t.key_statistic.projects_count,teamsCount:t.key_statistic.teams_count,curatorsCount:t.key_statistic.curators_count,customersCount:t.key_statistic.customers_count}},s=function(t){return t.customers_top.map((function(t){return{name:t.name,projectsCount:t.projects_count}})).sort((function(t,e){return t.projectsCount<e.projectsCount?1:-1})).slice(0,5)},a=function(t){return t.typical_team.map((function(t){return{role:t.role,studentsCount:t.students_count}}))},l=function(t){return t.student_competencies.map((function(t){return{competence:t.competence,value:t.value}})).sort((function(t,e){return t.value<e.value?1:-1})).slice(0,8)},d=function(t){return t.desired_student_competencies.map((function(t){return{competence:t.competence,value:t.value}})).sort((function(t,e){return t.value<e.value?1:-1})).slice(0,8)},p=function(t){return t.key_technology_students.map((function(t){return{keyTechnology:t.key_technology,value:t.value}}))},f=function(t){return t.students_by_course.map((function(t){return{course:t.course,count:t.count}}))},m=function(t){return t.customers_by_activity.map((function(t){return{activity:t.activity,count:t.count}}))},v=function(t){return t.customers_by_area.map((function(t){return{area:t.area,count:t.count}}))},b=function(t){return{keyStatistic:i(t),customersTop:s(t),typicalTeam:a(t),studentCompetencies:l(t),desiredStudentCompetencies:d(t),keyTechnologyStudents:p(t),studentsByCourse:f(t),customersByActivity:m(t),customersByArea:v(t)}},y=n(21),h="statistics",j="dashboard";function g(){return(g=Object(c.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.getItemByEventId(h,j,e);case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return",null);case 5:return t.abrupt("return",b(n));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var O={getDashboard:function(t){return g.apply(this,arguments)}},x=Object(r.b)("dashboard/fetchDashboard",(function(t){return O.getDashboard(t)})),_=Object(r.c)({name:"dashboard",initialState:{loading:!0,keyStatistic:null,customersTop:null,typicalTeam:null,studentCompetencies:null,desiredStudentCompetencies:null,keyTechnologyStudents:null,studentsByCourse:null,customersByActivity:null,customersByArea:null},reducers:{},extraReducers:function(t){return t.addCase(x.pending,(function(t){t.loading=!0})).addCase(x.fulfilled,(function(t,e){var n,r,o,u,c,i,s,a,l,d,p,f,m,v,b,y,h,j;t.keyStatistic=null!==(n=null===(r=e.payload)||void 0===r?void 0:r.keyStatistic)&&void 0!==n?n:null,t.customersTop=null!==(o=null===(u=e.payload)||void 0===u?void 0:u.customersTop)&&void 0!==o?o:null,t.typicalTeam=null!==(c=null===(i=e.payload)||void 0===i?void 0:i.typicalTeam)&&void 0!==c?c:null,t.studentCompetencies=null!==(s=null===(a=e.payload)||void 0===a?void 0:a.studentCompetencies)&&void 0!==s?s:null,t.desiredStudentCompetencies=null!==(l=null===(d=e.payload)||void 0===d?void 0:d.desiredStudentCompetencies)&&void 0!==l?l:null,t.keyTechnologyStudents=null!==(p=null===(f=e.payload)||void 0===f?void 0:f.keyTechnologyStudents)&&void 0!==p?p:null,t.studentsByCourse=null!==(m=null===(v=e.payload)||void 0===v?void 0:v.studentsByCourse)&&void 0!==m?m:null,t.customersByActivity=null!==(b=null===(y=e.payload)||void 0===y?void 0:y.customersByActivity)&&void 0!==b?b:null,t.customersByArea=null!==(h=null===(j=e.payload)||void 0===j?void 0:j.customersByArea)&&void 0!==h?h:null,t.loading=!1}))}}),k=function(t){return t.dashboard.loading},C=function(t){return t.dashboard.keyStatistic},w=function(t){return t.dashboard.customersTop},S=function(t){return t.dashboard.typicalTeam},B=function(t){return t.dashboard.studentCompetencies},T=function(t){return t.dashboard.desiredStudentCompetencies},A=function(t){return t.dashboard.keyTechnologyStudents},z=function(t){return t.dashboard.studentsByCourse},E=function(t){return t.dashboard.customersByActivity},I=function(t){return t.dashboard.customersByArea}},51:function(t,e,n){"use strict";n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return m})),n.d(e,"c",(function(){return v}));var r=n(15),o=n(2),u=n.n(o),c=n(5),i=function(t){return{id:t.id,name:t.name}},s=n(21),a="events",l="list";function d(){return(d=Object(c.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.getItems(a,l);case 2:return e=t.sent,t.abrupt("return",e.map((function(t){return i(t)})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var p=function(){return d.apply(this,arguments)},f=Object(r.b)("events/fetchEventsList",p),m=Object(r.c)({name:"events",initialState:{list:[]},reducers:{},extraReducers:function(t){return t.addCase(f.fulfilled,(function(t,e){t.list=e.payload}))}}),v=function(t){return t.events.list}},52:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(9),o=(n(0),n(93)),u=n(56),c=n.n(u),i=n(45),s=n.n(i),a=n(3),l=function(t){var e=t.fullHeight;return Object(a.jsx)("div",{className:c()(s.a.loading,Object(r.a)({},s.a.fullHeight,e)),children:Object(a.jsx)(o.a,{color:"primary",style:{color:"var(--primary)"},size:50})})}},54:function(t){t.exports=JSON.parse('{"name":"workshop-visualization","version":"0.1.0","private":true,"homepage":"https://danil-kuk.github.io/workshop-visualization","dependencies":{"@ant-design/charts":"^1.0.19","@material-ui/core":"^4.11.3","@material-ui/icons":"^4.11.2","@nivo/bar":"^0.68.0","@nivo/circle-packing":"^0.67.0","@nivo/core":"^0.69.0","@nivo/heatmap":"^0.67.0","@nivo/pie":"^0.69.0","@reduxjs/toolkit":"^1.5.0","@testing-library/jest-dom":"^5.11.9","@testing-library/react":"^11.2.5","@testing-library/user-event":"^12.8.1","@types/jest":"^26.0.20","@types/node":"^12.20.4","@types/react":"^17.0.2","@types/react-dom":"^17.0.1","@types/react-redux":"^7.1.16","@types/react-router-dom":"^5.1.7","axios":"^0.21.1","classnames":"^2.2.6","history":"^5.0.0","node-sass":"^5.0.0","react":"^17.0.1","react-dom":"^17.0.1","react-graph-vis":"^1.0.7","react-redux":"^7.2.2","react-router-dom":"^6.0.0-beta.0","react-scripts":"4.0.3","realm-web":"^1.2.1","typescript":"^4.2.3","use-dark-mode":"^2.3.1","web-vitals":"^1.1.0"},"scripts":{"start":"BROWSER=none react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","lint:fix":"npm run lint -- --fix","lint":"eslint -c .eslintrc \\"src/**/*.{ts,tsx}\\""},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@types/classnames":"^2.2.11"}}')},55:function(t,e,n){t.exports={logo:"style_logo__3hEVD"}},79:function(t,e,n){},80:function(t,e,n){},81:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),u=n(30),c=n.n(u),i=n(28),s=n(18),a=n(12),l=n(4),d=n(21),p=n(32),f=n(54),m=n(55),v=n.n(m),b=n(3),y=function(){return Object(b.jsxs)("header",{children:[Object(b.jsx)(h,{}),Object(b.jsx)("h3",{children:"\u0412\u0438\u0437\u0443\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"})]})},h=function(){return Object(b.jsx)("div",{className:v.a.logo,title:"\u0412\u0435\u0440\u0441\u0438\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u044b ".concat(f.version),children:Object(b.jsx)(s.b,{to:Object(p.a)("/")})})},j=n(52),g=n(17),O=Object(r.lazy)((function(){return n.e(5).then(n.bind(null,533))})),x=[{path:"welcome",element:Object(b.jsx)(O,{})}],_=Object(r.lazy)((function(){return Promise.all([n.e(2),n.e(4)]).then(n.bind(null,527))})),k=[{path:"dashboard/event/:id",element:Object(b.jsx)(_,{})}],C=[].concat(Object(g.a)(x),Object(g.a)(k),[{path:"/",element:Object(b.jsx)(l.a,{to:Object(p.a)("/welcome")})},{path:"*",element:Object(b.jsx)("div",{children:"404 page"})}]),w=n(47),S=n.n(w),B=function(t){var e=t.children;return Object(b.jsx)("section",{className:S.a.section,children:Object(b.jsx)("div",{className:S.a.main,children:e})})},T=function(){var t=Object(l.i)(C,"/workshop-visualization"),e=Object(r.useState)(!1),n=Object(a.a)(e,2),o=n[0],u=n[1];return Object(r.useEffect)((function(){d.a.login().then((function(){return u(!0)})).catch((function(t){return console.error("Database connection error",t)}))}),[]),o?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(y,{}),Object(b.jsx)(B,{children:t})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(y,{}),Object(b.jsx)(j.a,{fullHeight:!0})]})},A=n(48);n(79),n(80);c.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(i.a,{store:A.a,children:Object(b.jsx)(s.a,{children:Object(b.jsx)(r.Suspense,{fallback:Object(b.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:Object(b.jsx)(T,{})})})})}),document.getElementById("root"))}},[[81,1,3]]]);
//# sourceMappingURL=main.0baba033.chunk.js.map