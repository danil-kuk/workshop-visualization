(this["webpackJsonpworkshop-visualization"]=this["webpackJsonpworkshop-visualization"]||[]).push([[0],{21:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(2),c=n.n(r),a=n(3),i=n(47),o=new i.a("workshop-mongo-qqunb");function s(){var t,e=null===(t=o.currentUser)||void 0===t?void 0:t.mongoClient("mongodb-atlas");if(!e)throw Error("Database connection error! Unable to create MongoDB Client.");return e}function u(){return(u=Object(a.a)(c.a.mark((function t(e,n){var r,a,i,o=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:10,a=s(),i=a.db(e).collection(n),t.abrupt("return",i.find({},{limit:r}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var l={login:function(){var t=i.b.apiKey("A80ekR6X3jZ4vubEuT9oHwVqqBLWRgPCOxQNC4eS63hVG1d31R7wi99wUxNiz5nZ");return o.logIn(t,!1)},getItemById:function(t,e,n){return s().db(t).collection(e).findOne({_id:n})},getItems:function(t,e){return u.apply(this,arguments)},getItemByEventId:function(t,e,n){return s().db(t).collection(e).findOne({event_id:n})}}},32:function(t,e,n){"use strict";n.d(e,"b",(function(){return p})),n.d(e,"a",(function(){return b})),n.d(e,"c",(function(){return m}));var r=n(15),c=n(2),a=n.n(c),i=n(3),o=function(t){return{id:t.id,name:t.name}},s=n(21),u="events",l="list";function d(){return(d=Object(i.a)(a.a.mark((function t(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.getItems(u,l);case 2:return e=t.sent,t.abrupt("return",e.map((function(t){return o(t)})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var f=function(){return d.apply(this,arguments)},p=Object(r.b)("events/fetchEventsList",f),b=Object(r.c)({name:"events",initialState:{list:[]},reducers:{},extraReducers:function(t){return t.addCase(p.fulfilled,(function(t,e){t.list=e.payload}))}}),m=function(t){return t.events.list}},33:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return u}));var r=n(15),c=n(28),a=n(52),i=n(32),o=Object(r.a)({reducer:{dashboard:a.a.reducer,events:i.a.reducer}}),s=function(){return Object(c.b)()},u=c.c},34:function(t,e,n){"use strict";function r(t){return"/workshop-visualization"+t}n.d(e,"a",(function(){return r}))},35:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(9),c=(n(0),n(93)),a=n(54),i=n.n(a),o=n(48),s=n.n(o),u=n(4),l=function(t){var e=t.fullHeight;return Object(u.jsx)("div",{className:i()(s.a.loading,Object(r.a)({},s.a.fullHeight,e)),children:Object(u.jsx)(c.a,{color:"primary",style:{color:"var(--primary)"},size:50})})}},48:function(t,e,n){t.exports={loading:"style_loading__1qrKv",fullHeight:"style_fullHeight__1rlAE"}},50:function(t,e,n){t.exports={main:"style_main__22q8l",section:"style_section__1bgjR"}},52:function(t,e,n){"use strict";n.d(e,"b",(function(){return x})),n.d(e,"a",(function(){return _})),n.d(e,"d",(function(){return k})),n.d(e,"c",(function(){return w}));var r=n(2),c=n.n(r),a=n(3),i=n(15),o=function(t){return{studentsCount:t.key_statistic.students_count,projectsCount:t.key_statistic.projects_count,teamsCount:t.key_statistic.teams_count,curatorsCount:t.key_statistic.curators_count,customersCount:t.key_statistic.customers_count}},s=function(t){return t.customers_top.map((function(t){return{name:t.name,projectsCount:t.projects_count}})).sort((function(t,e){return t.projectsCount<e.projectsCount?1:-1})).slice(0,5)},u=function(t){return t.typical_team.map((function(t){return{role:t.role,studentsCount:t.students_count}}))},l=function(t){return t.student_competencies.map((function(t){return{competence:t.competence,value:t.value}})).sort((function(t,e){return t.value<e.value?1:-1})).slice(0,8)},d=function(t){return t.desired_student_competencies.map((function(t){return{competence:t.competence,value:t.value}})).sort((function(t,e){return t.value<e.value?1:-1})).slice(0,8)},f=function(t){return t.key_technology_students.map((function(t){return{keyTechnology:t.key_technology,value:t.value}}))},p=function(t){return t.students_by_course.map((function(t){return{course:t.course,count:t.count}}))},b=function(t){return t.customers_by_activity.map((function(t){return{activity:t.activity,count:t.count}}))},m=function(t){return t.customers_by_area.map((function(t){return{area:t.area,count:t.count}}))},j=function(t){return{keyStatistic:o(t),customersTop:s(t),typicalTeam:u(t),studentCompetencies:l(t),desiredStudentCompetencies:d(t),keyTechnologyStudents:f(t),studentsByCourse:p(t),customersByActivity:b(t),customersByArea:m(t)}},v=n(21),h="statistics",y="dashboard";function O(){return(O=Object(a.a)(c.a.mark((function t(e){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.getItemByEventId(h,y,e);case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return",null);case 5:return t.abrupt("return",j(n));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var g={getDashboard:function(t){return O.apply(this,arguments)}},x=Object(i.b)("dashboard/fetch",function(){var t=Object(a.a)(c.a.mark((function t(e){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.getDashboard(e);case 2:return n=t.sent,t.abrupt("return",{eventId:e,dashboard:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),_=Object(i.c)({name:"dashboard",initialState:{loading:!0,data:{}},reducers:{},extraReducers:function(t){return t.addCase(x.pending,(function(t){t.loading=!0})).addCase(x.fulfilled,(function(t,e){var n=e.payload,r=n.eventId,c=n.dashboard;c&&(t.data[r]=c),t.loading=!1}))}}),k=function(t){return t.dashboard.loading},w=function(t){return function(e){return e.dashboard.data[t]}}},59:function(t){t.exports=JSON.parse('{"name":"workshop-visualization","version":"0.1.0","private":true,"homepage":"https://danil-kuk.github.io/workshop-visualization","dependencies":{"@ant-design/charts":"^1.0.19","@material-ui/core":"^4.11.3","@material-ui/icons":"^4.11.2","@nivo/bar":"^0.68.0","@nivo/circle-packing":"^0.67.0","@nivo/core":"^0.69.0","@nivo/heatmap":"^0.67.0","@nivo/pie":"^0.69.0","@reduxjs/toolkit":"^1.5.0","@testing-library/jest-dom":"^5.11.9","@testing-library/react":"^11.2.5","@testing-library/user-event":"^12.8.1","@types/jest":"^26.0.20","@types/node":"^12.20.4","@types/react":"^17.0.2","@types/react-dom":"^17.0.1","@types/react-redux":"^7.1.16","@types/react-router-dom":"^5.1.7","axios":"^0.21.1","classnames":"^2.2.6","history":"^5.0.0","node-sass":"^5.0.0","react":"^17.0.1","react-dom":"^17.0.1","react-graph-vis":"^1.0.7","react-redux":"^7.2.2","react-router-dom":"^6.0.0-beta.0","react-scripts":"4.0.3","realm-web":"^1.2.1","typescript":"^4.2.3","use-dark-mode":"^2.3.1","web-vitals":"^1.1.0"},"scripts":{"start":"BROWSER=none react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","lint:fix":"npm run lint -- --fix","lint":"eslint -c .eslintrc \\"src/**/*.{ts,tsx}\\""},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@types/classnames":"^2.2.11"}}')},60:function(t,e,n){t.exports={logo:"style_logo__3hEVD"}},79:function(t,e,n){},80:function(t,e,n){},81:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),a=n(30),i=n.n(a),o=n(28),s=n(18),u=n(12),l=n(5),d=n(21),f=n(35),p=n(17),b=n(4),m=Object(r.lazy)((function(){return n.e(5).then(n.bind(null,533))})),j=[{path:"welcome",element:Object(b.jsx)(m,{})}],v=Object(r.lazy)((function(){return Promise.all([n.e(2),n.e(4)]).then(n.bind(null,527))})),h=[{path:"dashboard/event/:id",element:Object(b.jsx)(v,{})}],y=n(34),O=[].concat(Object(p.a)(j),Object(p.a)(h),[{path:"/",element:Object(b.jsx)(l.a,{to:Object(y.a)("/welcome")})},{path:"*",element:Object(b.jsx)("div",{children:"404 page"})}]),g=n(59),x=n(60),_=n.n(x),k=function(){return Object(b.jsxs)("header",{children:[Object(b.jsx)(w,{}),Object(b.jsx)("h3",{children:"\u0412\u0438\u0437\u0443\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"})]})},w=function(){return Object(b.jsx)("div",{className:_.a.logo,title:"\u0412\u0435\u0440\u0441\u0438\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u044b ".concat(g.version),children:Object(b.jsx)(s.b,{to:Object(y.a)("/")})})},C=n(50),I=n.n(C),E=function(t){var e=t.children;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(k,{}),Object(b.jsx)("section",{className:I.a.section,children:Object(b.jsx)("div",{className:I.a.main,children:e})})]})},S=n(33),z=n(32),B=function(){var t=Object(l.i)(O,"/workshop-visualization"),e=Object(r.useState)(!1),n=Object(u.a)(e,2),c=n[0],a=n[1];Object(r.useEffect)((function(){d.a.login().then((function(){return a(!0)})).catch((function(t){return console.error("Database connection error",t)}))}),[]);var i=Object(S.b)();return Object(r.useEffect)((function(){i(Object(z.b)())}),[]),c?Object(b.jsx)(E,{children:t}):Object(b.jsx)(f.a,{fullHeight:!0})};n(79),n(80);i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(o.a,{store:S.a,children:Object(b.jsx)(s.a,{children:Object(b.jsx)(r.Suspense,{fallback:Object(b.jsx)(f.a,{fullHeight:!0}),children:Object(b.jsx)(B,{})})})})}),document.getElementById("root"))}},[[81,1,3]]]);
//# sourceMappingURL=main.7c90a08d.chunk.js.map